{% extends "base.html" %}


{% block body %}

{% if error != "" %}
<p class="errorMessage">{{error}}</p>
{% endif %}

    <div class = "weather-container">
    <h1>Current Weather</h1>
 
    <div class = "search-box">
    <form action ="{{url_for('weather.current')}}" method="POST">
        <input type= "text" id= "locationInp" name= "locationInp" placeholder="Enter a location, e.g. London">
        <input type="submit" id= "locationSubmit" name= "locationSubmit" value="Search">
    </form>
    </div>
<p>{{error}}</p>
{% if error == "" %}

<div class = "weather-info">
<div class= "weather-header">
    {% if locationInfo != {} %}
    <img src = "https://openweathermap.org/img/wn/{{locationInfo.weatherIcon}}@4x.png"</img>

    {% endif %}
<div class="weather-location">
    <strong>{{dt}} IN {{today["name"]}}{% if today["name"] != location %}, {{location}}{% endif %}</strong>

    <p>Temperature is currently {{today["main"]["temp"]}}°C degrees and feels like {{today["main"]["feels_like"]}}°C</p>

    <p>High: {{today["main"]["temp_max"]}} || Low: {{today["main"]["temp_min"]}}</p>
    <p>Humidity: {{today["main"]["humidity"]}}%</p>
    <p>Wind: {{today["wind"]["speed"]}} m/s (Gusts up to 6.81m/s)</p>
</div>
</div>

</div>
    
{% endif %}

   </div>
{% endblock %}
